<div class="w-full max-w-md mx-auto bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4">
  <h2 class="uppercase mb-3 font-normal"><%= @page_title %></h2>

  <%= form_for @stock, url: stock_path(@stock.symbol), method: :put, html: { class: 'my-form' } do |form| %>
    <div class="mb-4">
      <%= form.label :symbol, class: 'block text-gray-700 text-sm font-bold mb-2' %>
      <%= form.text_field :symbol, disabled: true, class: 'shadow-sm appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline uppercase bg-gray-200' %>
    </div>
    <div class="mb-4">
      <label class="block text-gray-700 text-sm font-bold mb-2" for="x_stocks_ar_stock_exchange_id">Exchange</label>
      <%= select_tag('x_stocks_ar_stock[exchange_id]', options_for_select([[]] + @exchanges.map { |e| [ "#{e.name} (#{e.code})", e.id ] }, @stock.exchange_id), class: 'border rounded w-full') %>
    </div>
    <div class="mb-4">
      <label class="block text-gray-700 text-sm font-bold mb-2" for="x_stocks_ar_stock_yahoo_fair_price">Fair Price</label>
      <%= form.text_field :yahoo_fair_price, placeholder: 'Fair Price', value: number_with_precision(@stock.yahoo_fair_price, precision: 2), autocomplete: :off, label: 'Fair Price', prepend: '$',
                          class: 'shadow-sm appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline uppercase'%>
    </div>

    <div class="pb-3 flex items-center justify-between">
      <%= link_to 'Back', back_url, class: 'btn btn-outline-dark' %>
      <%= form.submit 'Save', class: 'btn2 btn2-primary', onclick: "prepareForm(); runService($(this).parents('form')); return false;" %>
    </div>
  <% end %>
</div>
